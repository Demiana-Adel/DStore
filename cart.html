<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="Home.css">
    <link rel="stylesheet" href="navbar.css">
</head>
<style>
    h1 {
        color: brown;
        text-align: center;
        margin-top: 70px;
    }
</style>

<body>
    <span id="navbar">
        <ul id="navbar">
            <li><a href="Home.html"><i class="fa-solid fa-house" style="color: #ffffff; margin-right: 10px;"></i>Home</a></li>
            <li><a href="signup.html"><i class="fa-solid fa-user-plus" style="color: #ffffff; margin-right: 10px;"></i>SignUp</a></li>
            <li><a href="login.html"><i class="fa-solid fa-right-to-bracket" style="color: #ffffff; margin-right: 10px;"></i>Login</a></li>
            <li><a href="cart.html"><i class="fa-solid fa-cart-shopping" style="color: #ffffff; margin-right: 10px;"></i>Cart</a></li>
        </ul>
    </span>

    <h1>If you want to delete items from your cart please click on it</h1>


    <script>
        var existingProducts = JSON.parse(localStorage.getItem("products")) || [];
        existingProducts.forEach(function (product) {
            var myheader = document.createElement("h3");
            myheader.textContent = product.title;
            var myImg = document.createElement("img");
            myImg.src = product.image;
            var mypragraph = document.createElement("p");
            mypragraph.textContent = product.price;
            var mydiv = document.createElement("div");
            mydiv.appendChild(myheader);
            mydiv.appendChild(myImg);
            mydiv.appendChild(mypragraph);
            document.body.appendChild(mydiv)
            mydiv.addEventListener("click", () => {
                var title = myheader.textContent;
                var price = mypragraph.textContent;
                var image = myImg.src;
                var indexToRemove = existingProducts.findIndex(product =>
                    product.title === title &&
                    product.price === price &&
                    product.image === image
                );
                if (indexToRemove !== -1) {
                    existingProducts.splice(indexToRemove, 1);
                    localStorage.setItem("products", JSON.stringify(existingProducts));
                    window.location.reload();
                }
            });
        });



    </script>
</body>

</html>